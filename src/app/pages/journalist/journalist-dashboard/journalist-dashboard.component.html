<div class="journalist-dashboard">
  <h1 class="dashboard-title">
    <span nz-icon nzType="dashboard" nzTheme="outline"></span>
    Dashboard Ph√≥ng vi√™n
  </h1>

  <!-- Statistics Cards -->
  <nz-row [nzGutter]="16" class="stats-row">
    <nz-col [nzSpan]="6">
      <nz-card>
        <nz-statistic
          nzTitle="T·ªïng b√†i vi·∫øt"
          [nzValue]="statistics.totalArticles"
          nzPrefix="üìù"
        ></nz-statistic>
      </nz-card>
    </nz-col>
    <nz-col [nzSpan]="6">
      <nz-card>
        <nz-statistic
          nzTitle="ƒê√£ xu·∫•t b·∫£n"
          [nzValue]="statistics.publishedArticles"
          nzPrefix="‚úÖ"
          [nzValueStyle]="{ color: '#52c41a' }"
        ></nz-statistic>
      </nz-card>
    </nz-col>
    <nz-col [nzSpan]="6">
      <nz-card>
        <nz-statistic
          nzTitle="Ch·ªù duy·ªát"
          [nzValue]="statistics.pendingArticles"
          nzPrefix="‚è≥"
          [nzValueStyle]="{ color: '#faad14' }"
        ></nz-statistic>
      </nz-card>
    </nz-col>
    <nz-col [nzSpan]="6">
      <nz-card>
        <nz-statistic
          nzTitle="T·ªïng l∆∞·ª£t xem"
          [nzValue]="statistics.totalViews"
          nzPrefix="üëÅÔ∏è"
          [nzValueStyle]="{ color: '#1890ff' }"
        ></nz-statistic>
      </nz-card>
    </nz-col>
  </nz-row>

  <!-- Main Content Row -->
  <nz-row [nzGutter]="16" class="main-content-row">
    <!-- Recent Articles Table -->
    <nz-col [nzSpan]="16">
      <nz-card nzTitle="B√†i vi·∫øt g·∫ßn ƒë√¢y" [nzExtra]="extraTemplate">
        <nz-table
          #basicTable
          [nzData]="recentArticles"
          [nzPageSize]="5"
          [nzShowPagination]="false"
        >
          <thead>
            <tr>
              <th>Ti√™u ƒë·ªÅ</th>
              <th>Tr·∫°ng th√°i</th>
              <th>L∆∞·ª£t xem</th>
              <th>L∆∞·ª£t th√≠ch</th>
              <th>Ng√†y xu·∫•t b·∫£n</th>
              <th>Thao t√°c</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let article of basicTable.data">
              <td>
                <div class="article-title">{{ article.title }}</div>
              </td>
              <td>
                <nz-tag [nzColor]="getStatusColor(article.status)">
                  {{ getStatusText(article.status) }}
                </nz-tag>
              </td>
              <td>{{ article.views.toLocaleString() }}</td>
              <td>{{ article.likes.toLocaleString() }}</td>
              <td>{{ article.publishDate | date : "dd/MM/yyyy" }}</td>
              <td>
                <button nz-button nzType="link" nzSize="small">
                  <span nz-icon nzType="eye"></span>
                  Xem
                </button>
                <button nz-button nzType="link" nzSize="small">
                  <span nz-icon nzType="edit"></span>
                  S·ª≠a
                </button>
              </td>
            </tr>
          </tbody>
        </nz-table>
      </nz-card>
    </nz-col>

    <!-- Notifications and Quick Actions -->
    <nz-col [nzSpan]="8">
      <!-- Notifications -->
      <nz-card nzTitle="Th√¥ng b√°o" class="notifications-card">
        <nz-list
          [nzDataSource]="notifications"
          [nzRenderItem]="notificationItem"
          [nzItemLayout]="'horizontal'"
          [nzSize]="'small'"
        >
          <ng-template #notificationItem let-item>
            <nz-list-item>
              <nz-list-item-meta>
                <nz-list-item-meta-avatar>
                  <span
                    nz-icon
                    [nzType]="getNotificationIcon(item.type)"
                    [style.color]="getNotificationColor(item.type)"
                  ></span>
                </nz-list-item-meta-avatar>
                <nz-list-item-meta-title>
                  {{ item.message }}
                </nz-list-item-meta-title>
                <nz-list-item-meta-description>
                  {{ item.time }}
                </nz-list-item-meta-description>
              </nz-list-item-meta>
            </nz-list-item>
          </ng-template>
        </nz-list>
      </nz-card>

      <!-- Quick Actions -->
      <nz-card nzTitle="Thao t√°c nhanh" class="quick-actions-card">
        <div class="quick-actions">
          <button nz-button nzType="primary" nzBlock class="action-btn">
            <span nz-icon nzType="plus"></span>
            T·∫°o b√†i vi·∫øt m·ªõi
          </button>
          <button nz-button nzType="default" nzBlock class="action-btn">
            <span nz-icon nzType="edit"></span>
            Ch·ªânh s·ª≠a b·∫£n nh√°p
          </button>
          <button nz-button nzType="default" nzBlock class="action-btn">
            <span nz-icon nzType="bar-chart"></span>
            Xem th·ªëng k√™
          </button>
        </div>
      </nz-card>

      <!-- Performance Progress -->
      <nz-card nzTitle="Hi·ªáu su·∫•t th√°ng n√†y" class="performance-card">
        <div class="performance-item">
          <div class="performance-label">L∆∞·ª£t xem</div>
          <nz-progress
            [nzPercent]="(statistics.monthlyViews / 5000) * 100"
            [nzShowInfo]="false"
            nzStatus="active"
          ></nz-progress>
          <div class="performance-value">
            {{ statistics.monthlyViews.toLocaleString() }} / 5,000
          </div>
        </div>

        <div class="performance-item">
          <div class="performance-label">B√†i vi·∫øt ƒë√£ xu·∫•t b·∫£n</div>
          <nz-progress
            [nzPercent]="(statistics.publishedArticles / 50) * 100"
            [nzShowInfo]="false"
            nzStatus="success"
          ></nz-progress>
          <div class="performance-value">
            {{ statistics.publishedArticles }} / 50
          </div>
        </div>
      </nz-card>
    </nz-col>
  </nz-row>
</div>

<ng-template #extraTemplate>
  <button nz-button nzType="link">
    <span nz-icon nzType="reload"></span>
    L√†m m·ªõi
  </button>
</ng-template>
